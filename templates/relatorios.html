{% extends 'base.html' %}

{% block title %}Relat√≥rios{% endblock %}

{% block content %}
    <h1>Relat√≥rios e Exporta√ß√£o</h1>
    <p>Selecione a turma e o tipo de relat√≥rio que deseja gerar.</p>

    <div class="card-form">
        <label for="select-turma">Selecione a Turma:</label>
        <select id="select-turma">
            <option value="">Carregando turmas...</option>
        </select>

        <!-- Op√ß√£o 1: Relat√≥rio Geral -->
        <div class="box-opcao">
            <h3>üìä Relat√≥rio Geral (Desempenho)</h3>
            <p>Resumo de faltas e presen√ßas de todo o per√≠odo.</p>
            <div class="botoes-export">
                <button onclick="baixarGeral('xlsx')" class="btn-excel">Baixar Excel (.xlsx)</button>
                <button onclick="baixarGeral('pdf')" class="btn-pdf">Baixar PDF</button>
            </div>
        </div>

        <hr>

        <!-- Op√ß√£o 2: Relat√≥rio Di√°rio -->
        <div class="box-opcao">
            <h3>üìÖ Relat√≥rio Di√°rio (Chamada)</h3>
            <p>Lista de presen√ßa de um dia espec√≠fico.</p>
            <input type="date" id="data-relatorio">
            <div class="botoes-export">
                <button onclick="baixarDiario('xlsx')" class="btn-excel">Baixar Excel (.xlsx)</button>
                <button onclick="baixarDiario('pdf')" class="btn-pdf">Baixar PDF</button>
            </div>
        </div>

        <hr>

        <!-- Op√ß√£o 3: Boletim de Notas (ADICIONADO AQUI) -->
        <div class="box-opcao">
            <h3>üìù Boletim de Notas</h3>
            <p>Planilha com todas as avalia√ß√µes e notas da turma.</p>
            <div class="botoes-export">
                <!-- Mantive os estilos inline roxos que voc√™ definiu -->
                <button onclick="baixarNotas('xlsx')" class="btn-excel" style="background-color: #6f42c1;">Baixar Excel</button>
                <button onclick="baixarNotas('pdf')" class="btn-pdf" style="background-color: #6610f2;">Baixar PDF</button>
            </div>
        </div>

    </div> <!-- Fim do card-form -->

    <style>
        /* Estilos EXCLUSIVOS desta p√°gina (sem afetar o resto do site) */
        
        /* Ajustes finos para os inputs desta p√°gina */
        select, input[type="date"] { 
            width: 100%; 
            padding: 10px; 
            margin-bottom: 10px; 
            box-sizing: border-box; 
        }
        
        .box-opcao { margin: 20px 0; }
        .box-opcao h3 { margin-bottom: 5px; }
        .box-opcao p { font-size: 0.9em; margin-bottom: 10px; opacity: 0.8; }
        
        .botoes-export { display: flex; gap: 10px; flex-wrap: wrap; }
        
        /* Estilo dos bot√µes DESTA √°rea */
        .botoes-export button { 
            border: none; 
            padding: 10px 15px; 
            border-radius: 4px; 
            cursor: pointer; 
            font-weight: bold; 
            color: white; 
            flex: 1; 
            min-width: 120px; 
        }

        .btn-excel { background-color: #217346; } /* Verde Excel */
        .btn-excel:hover { background-color: #1a5c38; }
        .btn-pdf { background-color: #b30b00; } /* Vermelho PDF */
        .btn-pdf:hover { background-color: #8f0900; }
    </style>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/relatorios.js') }}"></script>
{% endblock %}

