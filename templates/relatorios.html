{% extends 'base.html' %}

{% block title %}Relat칩rios{% endblock %}

{% block content %}
    <h1>Relat칩rios e Exporta칞칚o</h1>
    <p>Selecione a turma e o tipo de relat칩rio que deseja gerar.</p>

    <div class="card-form">
        <label for="select-turma">Selecione a Turma:</label>
        <select id="select-turma">
            <option value="">Carregando turmas...</option>
        </select>

        <div class="box-opcao">
            <h3>游늵 Relat칩rio Geral (Desempenho)</h3>
            <p>Resumo de faltas e presen칞as de todo o per칤odo.</p>
            <div class="botoes-export">
                <button onclick="baixarGeral('xlsx')" class="btn-excel">Baixar Excel (.xlsx)</button>
                <button onclick="baixarGeral('pdf')" class="btn-pdf">Baixar PDF</button>
            </div>
        </div>

        <hr>

        <div class="box-opcao">
            <h3>游늰 Relat칩rio Di치rio (Chamada)</h3>
            <p>Lista de presen칞a de um dia espec칤fico.</p>
            <input type="date" id="data-relatorio">
            <div class="botoes-export">
                <button onclick="baixarDiario('xlsx')" class="btn-excel">Baixar Excel (.xlsx)</button>
                <button onclick="baixarDiario('pdf')" class="btn-pdf">Baixar PDF</button>
            </div>
        </div>
    </div>

    <style>
        /* Estilos EXCLUSIVOS desta p치gina (sem afetar o resto do site) */
        
        /* Ajustes finos para os inputs desta p치gina */
        select, input[type="date"] { 
            width: 100%; 
            padding: 10px; 
            margin-bottom: 10px; 
            box-sizing: border-box; 
        }
        
        .box-opcao { margin: 20px 0; }
        .box-opcao h3 { margin-bottom: 5px; }
        .box-opcao p { font-size: 0.9em; margin-bottom: 10px; opacity: 0.8; }
        
        .botoes-export { display: flex; gap: 10px; flex-wrap: wrap; }
        
        /* CORRE칂츾O: Aplicamos estilo apenas aos bot칫es DESTA 치rea, n칚o globais */
        .botoes-export button { 
            border: none; 
            padding: 10px 15px; 
            border-radius: 4px; 
            cursor: pointer; 
            font-weight: bold; 
            color: white; 
            flex: 1; 
            min-width: 120px; 
        }

        .btn-excel { background-color: #217346; } /* Verde Excel */
        .btn-excel:hover { background-color: #1a5c38; }
        .btn-pdf { background-color: #b30b00; } /* Vermelho PDF */
        .btn-pdf:hover { background-color: #8f0900; }
    </style>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/relatorios.js') }}"></script>
{% endblock %}
